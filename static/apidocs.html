<html>
   <head>
      <title>Praat Web-Services API Documentation</title>

      <style>
           table thead td {
              font-weight: bold;
           }
           table, th, td {
              border: 1px solid black;
           }
           table {
              border-collapse: collapse;
           }
      </style>
   </head>

   <body>
       <h2>Praat Web-Services</h2>
       <p>The web services described below will allow you to run commonly used functions in Praat over HTTP. To access them, use any HTTP capable client. Most platforms have REST client implementations.
       In a web-application, you can use ajax to access these services. </p>
       <p>The services are currently hosted at <a href="http://peldaws.westus.cloudapp.azure.com/">http://peldaws.westus.cloudapp.azure.com/</a>.
       To access any of the services below, append the service URL to the server address.
       For example, to get a list of sounds, query <a href="http://peldaws.westus.cloudapp.azure.com/listSounds">http://peldaws.westus.cloudapp.azure.com/listSounds</a> </p>
       
       <h3>1. Upload Sound</h3>
       Upload a new sound file
       <h4>Request</h4>
       <table border>
       <thead>
          <tr>
          <td>Method</td>
          <td>URL</td>
          </tr>
       </thead>
       <tbody>
       <tr>
          <td>POST</td>
          <td>/upload-sound</td>
       </tr>
       </tbody>
       </table>
       <h4>Response</h4>
       JSON Object:<br/>
       {<br/>
       &nbsp;&nbsp;&nbsp;"status": Status Message,<br/>
       &nbsp;&nbsp;&nbsp;"sound": fileName<br/>
       }<br/>
       The status message above will be "Success" if upload succeeded. <br/>
       If no file was uploaded, status will be "No sound file"<br/>
       If file does not have a recognized extension, status will be "Unknown file type"<br/>
       The fileName will be the original filename of the uploaded file.

       <h3>2. List Sounds</h3>
       Return list of sound files
       <h4>Request</h4>
       <table border>
       <thead>
          <tr>
          <td>Method</td>
          <td>URL</td>
          </tr>
       </thead>
       <tbody>
       <tr>
          <td>GET</td>
          <td>/list-sounds</td>
       </tr>
       </tbody>
       </table>
       <h4>Response</h4>
       JSON Object:<br/>
       {<br/>
       &nbsp;&nbsp;&nbsp;"files": [list-of-files]<br/>
       }<br/>
       list-of-files is a python list of file-names as strings.
 
       <h3>3. Draw Sound</h3>
       <h4>Request</h4>
       <table border>
       <thead>
          <tr>
          <td>Method</td>
          <td>URL</td>
          </tr>
       </thead>
       <tbody>
       <tr>
          <td>GET</td>
          <td>/draw-sound/&lt;sound&gt;/&lt;startTime&gt;/&lt;endTime&gt;/?&lt;Optional_parameters&gt;</td>
       </tr>
       </tbody>
       </table>

       <h4>Parameters</h4>
      <table border>
       <thead>
          <tr>
          <td>Name</td>
          <td>Type</td>
          <td>Description</td>
          </tr>
       </thead>
       <tbody>
       <tr>
          <td>sound</td>
          <td>String</td>
          <td>Name of an existing sound file</td>
       </tr>
       <tr>
          <td>startTime</td>
          <td>Number</td>
          <td>Location in seconds from which to start drawing</td>
       </tr>
       <tr>
          <td>endTime</td>
          <td>Number</td>
          <td>Location in seconds at which the drawing ends. Use 0 to draw till the end of the file</td>
       </tr>
       </tbody>
       </table>
       
       <h4>Optional Parameters</h4> 
       These parameters specify which optional components are drawn in the image. Combine multiple options using &amp; <br/>
       For example: spectrogram&amp;pitch&amp;intensity will draw the spectrogram, and plot the pitch and intensity.
       <table>
	   <thead>
		   <tr>
			   <td>Name</td>
			   <td>Type</td>
			   <td>Description</td>
		   </tr>
	   </thead>
       <tr>
          <td>spectrogram</td>
          <td>String</td>
          <td>Draw the spectrogram</td>
       </tr>
       <tr>
          <td>pitch</td>
          <td>String</td>
          <td>Plot the pitch</td>
       </tr>
       <tr>
          <td>intensity</td>
          <td>String</td>
          <td>Draw intensity plot</td>
       </tr>
       <tr>
          <td>formants</td>
          <td>String</td>
          <td>Draw formant contours</td>
       </tr>
       <tr>
          <td>pulses</td>
          <td>String</td>
          <td>Show point-process (pulses)</td>
       </tr>
       </tbody>
       </table>

       <h4>Response</h4>
       A png image of the drawing

       <h3> 4. Get Bounds</h3>
       Get boundaries of a sound file
       <h4>Request</h4>
       <table border>
       <thead>
          <tr>
          <td>Method</td>
          <td>URL</td>
          </tr>
       </thead>
       <tbody>
       <tr>
          <td>GET</td>
          <td>/get-bounds/&lt;sound&gt;</td>
       </tr>
       </tbody>
       </table>
       <h4>Parameters</h4>
      <table border>
       <thead>
          <tr>
          <td>Name</td>
          <td>Type</td>
          <td>Description</td>
          </tr>
       </thead>
       <tbody>
       <tr>
          <td>sound</td>
          <td>String</td>
          <td>Name of an existing sound file</td>
       </tr>
       </table>

       <h4>Response</h4>
       A JSON object: <br/>
       {<br/>
       &nbsp;&nbsp;&nbsp;"start": Start Time (Almost always 0.0),<br/>
       &nbsp;&nbsp;&nbsp;"end": End Time in seconds,<br/>
       &nbsp;&nbsp;&nbsp;"min": Minimum amplitude,<br/>
       &nbsp;&nbsp;&nbsp;"max": Maximum amplitude<br/>
       }<br/>

       <h3>5. Play Sound</h3>
       Returns the sound file
       <h4>Request</h4>
       <table border>
       <thead>
          <tr>
          <td>Method</td>
          <td>URL</td>
          </tr>
       </thead>
       <tbody>
       <tr>
          <td>GET</td>
          <td>/play/&lt;sound&gt;</td>
       </tr>
       </tbody>
       </table>
       <h4>Parameters</h4>
      <table border>
       <thead>
          <tr>
          <td>Name</td>
          <td>Type</td>
          <td>Description</td>
          </tr>
       </thead>
       <tbody>
       <tr>
          <td>sound</td>
          <td>String</td>
          <td>Name of an existing sound file</td>
       </tr>
       </table>

       <h4>Response</h4>
       Returns the sound file with content-type audio/wav or audio/mp3

       <h3>6. Get Energy</h3>
       Query the energy of the sound file
       <h4>Request</h4>
       <table border>
       <thead>
          <tr>
          <td>Method</td>
          <td>URL</td>
          </tr>
       </thead>
       <tbody>
       <tr>
          <td>GET</td>
          <td>/get-energy/&lt;sound&gt;</td>
       </tr>
       </tbody>
       </table>
       <h4>Parameters</h4>
      <table border>
       <thead>
          <tr>
          <td>Name</td>
          <td>Type</td>
          <td>Description</td>
          </tr>
       </thead>
       <tbody>
       <tr>
          <td>sound</td>
          <td>String</td>
          <td>Name of an existing sound file</td>
       </tr>
       </table>

       <h4>Response</h4>
       Returns the value of energy of the sound file as a string

   </body>
</html>
